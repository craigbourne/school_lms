<h1>Admin Timetable View</h1>
<form method="get">
  <label for="teacher">Filter by Teacher:</label>
  <select name="teacher">
    <option value="">All Teachers</option>
    {% for teacher in teachers %}
    <option value="{{ teacher }}">{{ teacher }}</option>
    {% endfor %}
  </select>

  <label for="year_group">Filter by Year Group:</label>
  <select name="year_group">
    <option value="">All Year Groups</option>
    {% for year in year_groups %}
    <option value="{{ year }}">Year {{ year }}</option>
    {% endfor %}
  </select>

  <button type="submit">Filter</button>
</form>

{% for timetable in timetables %}
<h2>Timetable for User ID: {{ timetable.user_id }}</h2>
<p>Week: {{ timetable.week_start }} to {{ timetable.week_end }}</p>
<table>
  <tr>
    <th>Subject</th>
    <th>Teacher</th>
    <th>Classroom</th>
    <th>Day</th>
    <th>Start Time</th>
    <th>End Time</th>
    <th>Year Group</th>
  </tr>
  {% for lesson in timetable.lessons %}
  <tr>
    <td>{{ lesson.subject }}</td>
    <td>{{ lesson.teacher }}</td>
    <td>{{ lesson.classroom }}</td>
    <td>{{ lesson.day_of_week }}</td>
    <td>{{ lesson.start_time }}</td>
    <td>{{ lesson.end_time }}</td>
    <td>{{ lesson.year_group }}</td>
  </tr>
  {% endfor %}
</table>
{% endfor %}